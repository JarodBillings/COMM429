(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(8),i=n.n(o),r=(n(15),n(2)),c=n(3),l=n(6),u=n(4),h=n(1),m=n(5),g=(n(16),n(17),n(9)),d=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).chatStyle={height:e.height,width:e.height},n.onMessage=n.onMessage.bind(Object(h.a)(n)),n.onOpen=n.onOpen.bind(Object(h.a)(n));var a=new WebSocket("ws://localhost:9876");return a.onopen=n.onOpen,a.onmessage=n.onMessage,n.state={server:a,clientMsgs:[]},n.onChange=n.onChange.bind(Object(h.a)(n)),n.send=n.send.bind(Object(h.a)(n)),n.onKeyPress=n.onKeyPress.bind(Object(h.a)(n)),console.log("Sent connection"),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onOpen",value:function(e){console.log("Connected to server"),this.state.server.send(this.formatJSON({user:this.props.username,role:1,connect:!0}))}},{key:"send",value:function(e){""!==e&&(this.state.server.send(this.formatJSON({user:this.props.username,role:1,text:e})),this.setState({msg:""}))}},{key:"onMessage",value:function(e){this.setState((function(t){var n=Object(g.a)({},t);return n.clientMsgs.push(e.data),n})),console.log(this.state)}},{key:"onChange",value:function(e){this.setState({msg:e.target.value})}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.send(this.state.msg)}},{key:"formatJSON",value:function(e){return JSON.stringify(e)}},{key:"render",value:function(){return console.log(this.state),s.a.createElement("div",{style:this.chatStyle},null!==this.state?this.state.clientMsgs.map((function(e,t){return s.a.createElement("div",null,e)})):s.a.createElement("div",null),s.a.createElement("input",{type:"text",onKeyDown:this.onKeyPress,onChange:this.onChange,value:this.state.msg}))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={connect:!1,error:"",username:""},n.onClick=n.onClick.bind(Object(h.a)(n)),n.onChange=n.onChange.bind(Object(h.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(){""===this.state.username?this.setState({error:"Username cannot be blank"}):this.setState({connect:!0})}},{key:"onChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.connect?s.a.createElement(d,{height:1e3,width:1e3,username:this.state.username}):s.a.createElement(a.Fragment,null,s.a.createElement("p",{id:"username-text",style:{display:"inline"}},"username: "),s.a.createElement("input",{type:"text",value:this.state.username,onChange:this.onChange}),s.a.createElement("button",{id:"connect-button",onClick:this.onClick},"Connect"),s.a.createElement("h1",null,this.state.error)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.95f0486c.chunk.js.map